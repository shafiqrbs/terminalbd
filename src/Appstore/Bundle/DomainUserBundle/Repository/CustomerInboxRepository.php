<?php

namespace Appstore\Bundle\DomainUserBundle\Repository;
use Appstore\Bundle\DomainUserBundle\Entity\CustomerInbox;
use Doctrine\ORM\EntityRepository;

/**
 * CustomerInboxRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class CustomerInboxRepository extends EntityRepository
{


    public function sendCustomerMessage($customer,$data,$type='')
    {
        $em = $this->_em;
            $entity = new CustomerInbox();
            $entity->setCustomer($customer);
            if(isset($data['content'])) {
                $entity->setContent($data['content']);
            }
            $entity->setType($type);
            $em->persist($entity);
            $em->flush();
            return $entity;
    }


}
