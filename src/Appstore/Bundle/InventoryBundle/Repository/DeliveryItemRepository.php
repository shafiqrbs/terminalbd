<?php

namespace Appstore\Bundle\InventoryBundle\Repository;
use Appstore\Bundle\InventoryBundle\Entity\Delivery;
use Doctrine\ORM\EntityRepository;

/**
 * DeliveryItemRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class DeliveryItemRepository extends EntityRepository
{

    public function checkItem($branch,$purchaseItem)
    {
        $qb = $this->createQueryBuilder('di');
        $qb->join('di.delivery','d');
        $qb->where('di.purchaseItem = :purchaseItem');
        $qb->setParameter('purchaseItem', $purchaseItem);
        $qb->andWhere('d.branch = :branch');
        $qb->setParameter('branch', $branch);
        $result = $qb->getQuery()->getOneOrNullResult();
        return $result;
    }



}
