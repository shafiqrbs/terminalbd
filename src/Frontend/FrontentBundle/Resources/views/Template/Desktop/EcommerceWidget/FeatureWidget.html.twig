{% if features is defined and features is not empty  %}
    {% for widget in features %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'revolution-slider' %}
    <div class="container1" style="background-color: rgb(27, 27, 27)" >
        <!-- BEGIN REVOLUTION SLIDER -->
        <div class="fullwidthbanner-container slider-main margin-bottom-10 col-xs-12 col-md-12">
            <div class="fullwidthabnner1" id="rev_slider">
                <ul  style="display:none;">
                    <!-- THE FIRST SLIDE -->
                    {% for slide in widget.featureWidgetItems %}

                        <li data-transition="fade" data-slotamount="8" data-masterspeed="700" data-delay="9400" data-thumb="{% if slide.feature.webPath is not empty  %} {{ slide.feature.webPath }}{% endif %}">
                            <!-- THE MAIN IMAGE IN THE FIRST SLIDE -->
                            <img src="{% if slide.feature.webPath is not empty  %} {{ slide.feature.webPath }}{% endif %}"  class="rev-slidebg"
                                 data-bgposition="center center"
                                 data-bgfit="cover"
                                 data-bgrepeat="no-repeat">

                            <div style="background-color:{{ slide.feature.captionBgColor }}">
                                <div class="caption lft slide_title slide_item_{{ slide.feature.captionPosition }}"
                                     data-x="0"
                                     data-y="125"
                                     data-speed="400"
                                     data-start="1500"
                                     data-easing="easeOutExpo">
                                    {{ slide.feature.name }}
                                </div>
                                <div class="caption lft slide_desc slide_item_{{ slide.feature.captionPosition }}"
                                     data-x="0"
                                     data-y="220"
                                     data-speed="400"
                                     data-start="2500"
                                     data-easing="easeOutExpo">
                                    {{ slide.feature.content|raw }}
                                </div>
                                {% if slide.feature.targetTo == 'Category' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_category',{'id':slide.feature.category.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Promotion' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_promotion',{'id':slide.feature.promotion.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Tag' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_tag',{'id':slide.feature.tag.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Discount' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_discount',{'id':slide.feature.discount.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo" >{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Brand' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_brand',{'id':slide.feature.barnd.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% endif %}
                            </div>

                        </li>
                    {% endfor %}
                </ul>
                <div class="tp-bannertimer tp-bottom"></div>
            </div>
        </div>
        <!-- END REVOLUTION SLIDER -->
    </div>
        <br/>
    {% endif %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'slider' %}
    <div class="container1">
        <div class="row1">
            <div class="owl-carousel" id="main-slider">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        {% for slide in widget.featureWidgetItems %}
                            <li data-target="#carousel-example-generic" data-slide-to="{{ loop.index-1 }}" class="{% if loop.index == 0 %} active {% endif %}"></li>
                        {% endfor %}
                    </ol>
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                        {% for slide in widget.featureWidgetItems %}
                            <div class="item {% if loop.index-1 == 0 %} active {% endif %}">
                                <img class="image" style="height:750px; width:100%" src="{% if slide.feature.webPath is not empty  %} {{ image(slide.feature.webPath) }}{% endif %}" alt="...">
                                <div class="carousel-caption caption-{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.captionBgColor }}">
                                    <h4>{{ slide.feature.name }}</h4>
                                    <span>{{ slide.feature.content|raw }}</span>
                                    <br/>
                                    {% if slide.feature.targetTo == 'Category' %}
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_category',{'id':slide.feature.category.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Promotion' %}
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_promotion',{'id':slide.feature.promotion.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Tag' %}
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_tag',{'id':slide.feature.tag.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Discount' %}
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_discount',{'id':slide.feature.discount.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Brand' %}
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path('webservice_product_brand',{'id':slide.feature.barnd.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% endif %}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
        <div class="header-line-center">
            <h1 class="tm-title tm-title-border">WELCOME TO SHOP ONLINE</h1>
        </div>
    {% endif %}

    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'feature' %}

        <div class="container wow slideInRight" data-wow-delay="2s">
            <div class="row">
            {% for slide in widget.featureWidgetItems %}
                {% if(slide.feature.webPath) %}
                        {% if slide.feature.targetTo == 'Promotion' %}
                        {% set path = path('webservice_product_promotion',{'id':slide.feature.promotion.id}) %}
                        {% elseif slide.feature.targetTo == 'Tag' %}
                        {% set path = path('webservice_product_tag',{'id':slide.feature.tag.id}) %}
                        {% elseif slide.feature.targetTo == 'Discount' %}
                        {% set path = path('webservice_product_tag',{'id':slide.feature.discount.id}) %}
                        {% elseif slide.feature.targetTo == 'Brand' %}
                        {% set path = path('webservice_product') %}
                        {% else %}
                            {% set path = path('webservice_product') %}
                        {% endif %}
                    <div  style="overflow: hidden;height: {{ slide.divHeight }}px; width: {{ slide.divWidth }}%; margin-bottom: 15px; position: relative"  class="col-xs-12 col-md-12 feature-box ">
                        <div class="box-img">
                            {%  set imageWidth =  slide.divWidth~'%' %}
                            <img class="img-responsive img-responsive-feature"   src="{{ image(slide.feature.webPath) }}" alt="">
                            <span class="img-responsive-preview img-responsive-preview-{{  slide.feature.captionPosition }} " style="background-color: {{ slide.feature.captionBgColor }};color: {{ slide.feature.buttonBg }}; " >{{ slide.feature.name }}</span>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            </div>
        </div>
    {% endif %}
   {# {% if widget.jsFeature.slug == 'slider' %}#}
        {% if widget.category is defined and widget.category is not empty %}
            <div class="container">
                <div class="header-double-line-right">
                    <h3>{{ widget.category.name }}</h3>
                </div>
                <div id="product" class="row">
                    <div id="category-slider" class="owl-carousel">
                        {% for masterProduct in  widget.category.masterProducts  %}
                        {% for product in  masterProduct.purchaseVendorItem |slice(0,12)  %}
                            <div class="col-md-12">
                                <div class="thumbnail" data-match-height="item-promotion">
                                    <div class="product-preview group list-group-image product-equal-height" >
                                        <img class="img-responsive" src="{{ image(product.webPath).resize(400,400, 'purple') }}" alt="">
                                        <div class="team-content">
                                            <h3 class="team-prof">
                                                <a href="#">{{ product.name }}</a>
                                                <small>{#{{ product.price|number_format }}#}</small>
                                            </h3>
                                            <ul class="social-link">
                                                <li><a href="#" class="fa fa-facebook"></a></li>
                                                <li><a href="#" class="fa fa-google"></a></li>
                                                <li><a href="#" class="fa fa-twitter"></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="caption">
                                        {% if globalOption.ecommerceConfig.showBrand == 1 %}
                                            <p class="group inner brand text-center" ><a href="{{ path('webservice_product_brand',{'subdomain': globalOption.subDomain,'id':product.id }) }}"><span>{% if product.brand is not empty %}{{ product.brand.name }}{% endif %}</span></a> </p>
                                        {% endif %}
                                        <p class="group inner product-name text-center" ><a href="{{ path('webservice_product_details',{'subdomain': globalOption.subDomain,'item':product.slug }) }}"><strong>{% if product.masterItem is not empty and  globalOption.ecommerceConfig.showMasterName == 1 %}{{ product.masterItem.name }}&nbsp;-&nbsp;{% endif %}{{ product.name }}</strong></a> </p>
                                        <div class="row">
                                            <div class="row-fluid">
                                                <div class="col-xs-6 col-md-6 text-right"><strong class="currency">{{ globalOption.ecommerceConfig.currency }}</strong>&nbsp;{% if product.discount is not empty  %}<strike>{% endif %}{{ product.salesPrice|number_format() }}{% if product.discount is not empty  %}</strike>{% endif %}{% if product.discount is not empty  %}{{ product.discountPrice|number_format() }}{% endif %}</div>
                                                <div class="col-xs-6 col-md-6 text-left"><strong>{{ product.quantity }}&nbsp;{% if  product.masterItem.productUnit is defined and product.masterItem.productUnit is not empty %}{{ product.masterItem.productUnit.name }}{% endif %}</strong></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% endif %}
        {% if widget.promotion is defined and widget.promotion is not empty %}
            <div class="container container-margin wow slideInLeft" data-wow-duration="4s">
                <div class="header-double-line-right">
                    <h4>{{ widget.promotion.name }}</h4>
                </div>
                <div id="product" class="row">
                    <div id="promotion-slider" class="owl-carousel">
                        {% for product in  widget.promotion.purchaseVendorItems |slice(0,12)  %}
                            <div class="col-md-12 fadeInRight animated" data-wow-delay="0.2s" >
                                <div class="thumbnail" data-match-height="item-promotion">
                                    <div class="product-preview group list-group-image" >
                                        <img class="img-responsive" src="{% if product.webPath is not empty  %}{{ image(product.webPath).scaleResize(400,400) }}{% elseif product.masterItem.webPath is defined and product.masterItem.webPath is not empty %}{{ image(product.masterItem.webPath).scaleResize(400,400) }}{% endif %}" alt="">
                                        <div class="team-content">
                                            <ul class="view-link">
                                                <li><a data-url="{{ path('webservice_product_details',{'subdomain': globalOption.subDomain,'item':product.slug }) }}" href="javascript:" class="fa fa-eye preview"></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="caption">
                                    <div class="row">
                                        <div class="row-fluid">
                                            {% if globalOption.ecommerceConfig.showBrand == 1 %}
                                            <p class="group inner brand text-center" ><a href="{{ path('webservice_product_brand',{'subdomain': globalOption.subDomain,'id':product.id }) }}"><span>{% if product.brand is not empty %}{{ product.brand.name }}{% endif %}</span></a> </p>
                                            {% endif %}
                                            <p class="group inner product-name text-center" ><a href="{{ path('webservice_product_details',{'subdomain': globalOption.subDomain,'item':product.slug }) }}"><strong>{% if product.masterItem is not empty and  globalOption.ecommerceConfig.showMasterName == 1 %}{{ product.masterItem.name }}&nbsp;-&nbsp;{% endif %}{{ product.name }}</strong></a> </p>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="col-xs-12 col-md-12 text-center"><strong class="currency">{{ globalOption.ecommerceConfig.currency }}&nbsp;{% if product.discount is not empty  %}<strike>{% endif %}{{ product.salesPrice|number_format() }}{% if product.discount is not empty  %}</strike>{% endif %}{% if product.discount is not empty  %}&nbsp;{{ product.discountPrice|number_format() }}{% endif %}</strong></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% endif %}
        {% if widget.featureCategory is defined and widget.featureCategory is not empty %}
            <div class="container container-margin wow bounceInLeft" data-wow-offset="300" >
                <div class="header-double-line-right">
                    <h4>Browser By  Categories</h4>
                {% if widget.globalOption.featureCategories|length > 4  %}
                    <div class="text-right">
                    <a class="btn prev glyphicon glyphicon-chevron-left"></a>
                    <a class="btn next glyphicon glyphicon-chevron-right"></a>
                    </div>
                {% endif %}
                </div>

                <div id="product" class="row">
                    <div id="feature-category" class="owl-carousel">
                        {% for category in  widget.globalOption.featureCategories  %}
                                  <div class="col-md-12">
                                    <div class="thumbnail" data-match-height="feature-category">
                                        <div class="product-preview group" >
                                            <img class="img-responsive" src="{{ image(category.webPath).resize(250,200, 'black') }}" alt="">
                                        </div>
                                    </div>
                                      <div class="caption">
                                          <p class="group inner product-name text-center" ><a href="{{ path('webservice_product_category',{'subdomain': globalOption.subDomain,'id':category.id }) }}"><strong>{{ category.category.name }}</strong></a> </p>
                                      </div>
                                </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% endif %}
        {% if widget.featureBrand is defined and widget.featureBrand is not empty %}
            <div class="container wow fadeInDown" data-wow-delay="2s" >
                <div class="header-double-line-right">
                    <h4>Browser BY  BRANDS</h4>
                </div>
                {% if widget.globalOption.featureBrands|length > 6  %}
                <div class="text-right owl-carousel-next-prev">
                    <div class="customNavigation" >
                        <a class="btn prev glyphicon glyphicon-chevron-left"></a>
                        <a class="btn next glyphicon glyphicon-chevron-right"></a>
                    </div>
                </div>
                {% endif %}
                <div id="product" class="row">
                    <div id="feature-brand" class="owl-carousel">
                        {% for brand in  widget.globalOption.featureBrands  %}
                            <div class="col-md-12">
                                <div class="thumbnail" data-match-height="feature-brand">
                                    <div class="product-preview" >
                                        <img class="img-responsive" src="{{ image(brand.webPath).resize(150,120) }}" alt="">
                                    </div>
                                </div>
                                <div class="caption">
                                    <p class="group inner product-name text-center" ><a href="{{ path('webservice_product_brand',{'subdomain': globalOption.subDomain,'id':brand.id }) }}"><strong>{{ brand.brand.name }}</strong></a> </p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% endif %}
   {# {% endif %}#}
    {% endfor %}
{% endif %}
