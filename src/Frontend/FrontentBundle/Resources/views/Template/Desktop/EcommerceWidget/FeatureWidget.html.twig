<style>
    .header-line-center h1:before, .header-line-center h2:before, .header-line-center h3:before, .header-line-center h4:before, .header-line-center h5:before, .header-line-center h6:before {
        position: absolute;
        content: "";
        height: 2px;
        width: 50%;
        left: -50%;
        top: 50%;
        margin-top: -1px;
        background: #0a70e3;
    }
    .header-line-center h1:after, .header-line-center h2:after, .header-line-center h3:after, .header-line-center h4:after, .header-line-center h5:after, .header-line-center h6:after {
        position: absolute;
        content: "";
        background: #0a70e3;
        height: 2px;
        width: 50%;
        right: -50.5%;
        top: 50%;
        margin-top: -1px;
    }

    .tabCarousel .nav a small
    {
        display: block;
    }
    .tabCarousel .nav
    {
        background: #eee;
    }
    .tabCarousel .nav-justified > li > a
    {
        border-radius: 0px;
    }

    .slider-feature-thumbnail {
        border: 2px solid red !important;
        height: 141px;
        width: 100%;
        display: block;
    }




    /*    #bottomTabCarousel .nav-pills>li[data-slide-to="0"].active a { background-color: #404040; }
        #bottomTabCarousel .nav-pills>li[data-slide-to="1"].active a { background-color: #e67e22; }
        #bottomTabCarousel .nav-pills>li[data-slide-to="2"].active a { background-color: #2980b9; }
        #bottomTabCarousel .nav-pills>li[data-slide-to="3"].active a { background-color: #8e44ad; }*/

</style>

{% if features is defined and features is not empty  %}
    {% for widget in features %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'revolution-slider' %}
    <div class="container1" style="background-color: rgb(27, 27, 27)" >
        <!-- BEGIN REVOLUTION SLIDER -->
        <div class="fullwidthbanner-container slider-main margin-bottom-10 col-xs-12 col-md-12">
            <div class="fullwidthabnner1" id="rev_slider">
                <ul  style="display:none;">
                    <!-- THE FIRST SLIDE -->
                    {% for slide in widget.featureWidgetItems %}

                        <li data-transition="fade" data-slotamount="8" data-masterspeed="700" data-delay="9400" data-thumb="{% if slide.feature.webPath is not empty  %} {{ slide.feature.webPath }}{% endif %}">
                            <!-- THE MAIN IMAGE IN THE FIRST SLIDE -->
                            <img src="{% if slide.feature.webPath is not empty  %} {{ slide.feature.webPath }}{% endif %}"  class="rev-slidebg"
                                 data-bgposition="center center"
                                 data-bgfit="cover"
                                 data-bgrepeat="no-repeat">

                                <div style="background-color:{{ slide.feature.captionBgColor }}">

                                    <div class="caption lft slide_title slide_item_{{ slide.feature.captionPosition }}"
                                     data-x="0"
                                     data-y="125"
                                     data-speed="400"
                                     data-start="1500"
                                     data-easing="easeOutExpo">
                                    {{ slide.feature.name }}
                                </div>
                                <div class="caption lft slide_desc slide_item_{{ slide.feature.captionPosition }}"
                                     data-x="0"
                                     data-y="220"
                                     data-speed="400"
                                     data-start="2500"
                                     data-easing="easeOutExpo">
                                    {{ slide.feature.content|raw }}
                                </div>
                                {% if slide.feature.targetTo == 'Category' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_category',{'id':slide.feature.category.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Promotion' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_promotion',{'id':slide.feature.promotion.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Tag' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_tag',{'id':slide.feature.tag.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Discount' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_discount',{'id':slide.feature.discount.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo" >{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Brand' %}
                                    <a class="btn btn-mini caption lft btn green slide_btn slide_item_{{ slide.feature.captionPosition }}" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'id':slide.feature.barnd.id}) }}" data-x="0"
                                       data-y="290"
                                       data-speed="400"
                                       data-start="3000"
                                       data-easing="easeOutExpo">{{ slide.feature.buttonName }}</a>
                                {% endif %}
                            </div>

                        </li>
                    {% endfor %}
                </ul>
                <div class="tp-bannertimer tp-bottom"></div>
            </div>
        </div>
        <!-- END REVOLUTION SLIDER -->
    </div>
    <br/>
    {% endif %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'slider' %}
    <div class="container1">
        <div class="row1">
            <div id="main-carousel" class="carousel slide" data-ride="cycle">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    {% for slide in widget.featureWidgetItems %}
                        <li data-target="#main-carousel" data-slide-to="{{ loop.index-1 }}" class="{% if loop.index - 1 == 1 %} active {% endif %}"></li>
                    {% endfor %}
                </ol>
                <!-- Wrapper for slides -->
                <div class="carousel-inner">
                    {% for slide in widget.featureWidgetItems %}
                        <div class="item {% if loop.index-1 == 1 %} active {% endif %}">
                            <img class="image" style="max-height:525px; height: 525px; width:100%" src="{% if slide.feature.webPath is not empty  %} {{ image(slide.feature.webPath) }}{% endif %}" alt="...">
                            <div class="carousel-caption {#caption-{{ slide.feature.captionPosition }}#}" style="background-color: {{ slide.feature.captionBgColor }}">
                                {% if slide.feature.name is not empty %}<h4>{{ slide.feature.name }}{% endif %}</h4>
                                {% if slide.feature.content is not empty %}<span>{{ slide.feature.content|raw }}</span>{% endif %}
                                {% if slide.feature.targetTo == 'Category' %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_category',{'id':slide.feature.category.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Promotion' %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_promotion',{'id':slide.feature.promotion.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Tag' %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_tag',{'id':slide.feature.tag.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Discount' %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_discount',{'id':slide.feature.discount.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Brand' %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'id':slide.feature.barnd.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
        <div class="header-line-center">
            <h1 class="tm-title-border">WELCOME TO {{ globalOption.name }}</h1>
        </div>
    {% endif %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'top-tab-slider' %}
        <div class="container">
            <div class="row tabCarousel">
                {% if widget.sliderFeature is not empty and widget.sliderFeaturePosition == 'left' %}
                    {% render controller("FrontendBundle:EcommerceWidget:"~widget.sliderFeature~"ShortWidget",{'globalOption':globalOption.id}) %}
                {% endif %}
                <div id="topTabCarousel" class="carousel slide col-md-9" data-ride="carousel" data-match-height="slider-height" style="height: 512px">
                    <ul class="nav nav-pills nav-justified">
                        {% for slide in widget.featureWidgetItems %}
                            <li data-target="#topTabCarousel" style="background-color: {{ slide.feature.captionBgColor }}" data-slide-to="{{ loop.index-1 }}" class="{% if loop.index == 0 %} active {% endif %}"><a href="#">{{ slide.feature.name|truncate(20, false) }}<small>{{ slide.feature.content|truncate(40, false) }}</small></a></li>
                        {% endfor %}
                    </ul>
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                        {% for slide in widget.featureWidgetItems %}
                            <div class="item {% if loop.index-1 == 0 %} active {% endif %}">
                                <img class="image" style="max-height:426px; width:100%"  src="{% if slide.feature.webPath is not empty  %} {{ image(slide.feature.webPath).forceResize(1200,600) }}{% endif %}" alt="...">
                                {#<div class="carousel-caption caption-{{ slide.feature.captionPosition }}" >
                                    {% if slide.feature.targetTo == 'Category' %}
                                        <br/>
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_category',{'id':slide.feature.category.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Promotion' %}
                                        <br/>
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_promotion',{'id':slide.feature.promotion.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Tag' %}
                                        <br/>
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_tag',{'id':slide.feature.tag.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Discount' %}
                                        <br/>
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_discount',{'id':slide.feature.discount.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% elseif slide.feature.targetTo == 'Brand' %}
                                        <br/>
                                        <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'id':slide.feature.barnd.id}) }}">{{ slide.feature.buttonName }}</a>
                                    {% endif %}
                                </div>#}
                            </div>
                        {% endfor %}
                        <!-- End Item -->
                    </div>
                    <!-- End Carousel Inner -->

                </div>
                {% if widget.sliderFeature is not empty and widget.sliderFeaturePosition == 'right' %}
                    {% render controller("FrontendBundle:EcommerceWidget:"~widget.sliderFeature~"ShortWidget",{'globalOption':globalOption.id}) %}
                {% endif %}
                <!-- End Carousel -->
            </div>
        </div>
        <div class="header-line-center">
            <h1 class="tm-title-border">WELCOME TO {{ globalOption.name }}</h1>
        </div>
    {% endif %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'bottom-tab-slider' %}
        <div class="row tabCarousel" >
            {% if widget.sliderFeature is not empty and widget.sliderFeaturePosition == 'left' %}
                {% render controller("FrontendBundle:EcommerceWidget:"~widget.sliderFeature~"ShortWidget",{'globalOption':globalOption.id}) %}
            {% endif %}
            <div id="bottomTabCarousel" class="carousel slide col-md-9" data-ride="carousel" data-match-height="slider-height" style="height: 512px">
                <!-- Wrapper for slides -->
                <div class="carousel-inner">
                    {% for slide in widget.featureWidgetItems %}
                        <div class="item {% if loop.index-1 == 0 %} active {% endif %}">
                            <img class="image" style="max-height:426px; width:100%" src="{% if slide.feature.webPath is not empty  %} {{ image(slide.feature.webPath).resize() }}{% endif %}" alt="...">

                            {#<div class="carousel-caption" style="background-color: {{ slide.feature.captionBgColor }}">
                               #}{# {% if slide.feature.name is not empty %}<h4>{{ slide.feature.name }}{% endif %}</h4>
                                {% if slide.feature.content is not empty %}<span>{{ slide.feature.content|raw }}</span>{% endif %}#}{#
                                {% if slide.feature.targetTo == 'Category' and slide.feature.category is not empty %}
                                    <br/>
                                    <a class="btn btn-mini " style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_category',{'id':slide.feature.category.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Promotion' and slide.feature.promotion is not empty %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_promotion',{'id':slide.feature.promotion.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Tag' and slide.feature.tag is not empty %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_tag',{'id':slide.feature.tag.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Discount' and slide.feature.discount is not empty  %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_discount',{'id':slide.feature.discount.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% elseif slide.feature.targetTo == 'Brand' and slide.feature.brand is not empty %}
                                    <br/>
                                    <a class="btn btn-mini" style="background-color: {{ slide.feature.buttonBg }}" href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'id':slide.feature.brand.id}) }}">{{ slide.feature.buttonName }}</a>
                                {% endif %}
                            </div>#}

                        </div>
                    {% endfor %}
                </div>
                <ul class="nav nav-pills nav-justified">
                    {% for slide in widget.featureWidgetItems %}
                        <li data-target="#bottomTabCarousel" style="background-color: {{ slide.feature.captionBgColor }}" data-slide-to="{{ loop.index-1 }}" class="{% if loop.index == 0 %} active {% endif %}"><a href="#">{{ slide.feature.name|truncate(20, false) }}<small>{{ slide.feature.content|truncate(40, false) }}</small></a></li>
                    {% endfor %}
                </ul>
            </div>
            {% if widget.sliderFeature is not empty and widget.sliderFeaturePosition == 'right' %}
                {% render controller("FrontendBundle:EcommerceWidget:"~widget.sliderFeature~"ShortWidget",{'globalOption':globalOption.id}) %}
            {% endif %}
            <!-- End Carousel Inner -->
        </div>
        <div class="header-line-center">
            <h1 class="tm-title-border">WELCOME TO {{ globalOption.name }}</h1>
        </div>
    {% endif %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'feature' %}

        <div class="wow fadeInDown" data-wow-delay="2s">
            <div class="row">
            {% for slide in widget.featureWidgetItems %}
                {% if(slide.feature.webPath) %}

                    {% if slide.feature.targetTo == 'Category' and slide.feature.category is not empty  %}
                        {% set path = path(globalOption.subDomain ~ '_webservice_product_category',{'id':slide.feature.category.id}) %}
                    {% elseif slide.feature.targetTo == 'Brand' and slide.feature.brand is not empty %}
                        {% set path = path(globalOption.subDomain ~ '_webservice_product_brand',{'id':slide.feature.brand.id}) %}
                    {% elseif slide.feature.targetTo == 'Promotion' and slide.feature.promotion is not empty %}
                        {% set path = path(globalOption.subDomain ~ '_webservice_product_promotion',{'id':slide.feature.promotion.id}) %}
                    {% elseif slide.feature.targetTo == 'Tag' and slide.feature.tag is not empty %}
                        {% set path = path(globalOption.subDomain ~ '_webservice_product_tag',{'id':slide.feature.tag.id}) %}
                    {% elseif slide.feature.targetTo == 'Discount' and slide.feature.discount is not empty %}
                        {% set path = path(globalOption.subDomain ~ '_webservice_product_discount',{'id':slide.feature.discount.id}) %}
                    {% elseif slide.feature.targetTo == 'Page' and slide.feature.menu is not empty %}
                        {% set path = path(globalOption.subDomain ~ '_webservice_module',{'module':feature.menu.slug}) %}
                    {% else %}
                        {% set path = path(globalOption.subDomain ~ '_webservice_product') %}
                    {% endif %}

                    <div  style="overflow: hidden;height: {{ slide.divHeight }}px; width: {{ slide.divWidth }}%; margin-bottom: 15px; position: relative"  class="col-xs-12 col-md-12 feature-box ">
                        <div class="box-img">
                            {%  set imageWidth =  slide.divWidth~'%' %}
                            <img class="img-responsive img-responsive-feature"   src="{{ image(slide.feature.webPath) }}" alt="">
                            <span class="img-responsive-preview img-responsive-preview-{{  slide.feature.captionPosition }} " style="background-color: {{ slide.feature.captionBgColor }};color: {{ slide.feature.buttonBg }}; " >{{ slide.feature.name }}</span>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            </div>
        </div>
    {% endif %}

    {% if widget.category is defined and widget.category is not empty %}
        <div class="wow fadeInDown feature-carousel" data-wow-duration="4s" data-match-height="carousel-height">
            <div class="page-title-bar">
                <div class="col-md-12" >
                    <div class="page-title">{{ widget.category.name }}</div>
                </div>
            </div>
            <div class="row">
                {% render controller("FrontendBundle:EcommerceWidget:categoryWidget",{'globalOption':globalOption.id, 'category':widget.category.id,'sliderId':loop.index}) %}
            </div>
        </div>
    {% endif %}

    {% if widget.promotion is defined and widget.promotion is not empty %}
            <div class="wow fadeInDown feature-carousel" data-wow-duration="2s" data-match-height="carousel-height" style="">
                <div class="page-title-bar">
                    <div class="col-md-12" >
                        <div class="page-title">{{ widget.promotion.name }}</div>
                    </div>
                </div>
                <div class="row">
                    <div id="promotion-slider-{{ loop.index }}" >
                        {% for product in  widget.promotion.purchaseVendorItems |slice(0,12)  %}
                            <div class="col-md-12">
                                <div class="thumbnail" data-match-height="item-promotion">
                                    <div class="product-preview group list-group-image product-equal-height" >
                                        <img class="img-responsive" src="{{ image(product.webPath).resize(400,400, 'white') }}" alt="">
                                        <div class="team-content">
                                            <h3 class="team-prof">
                                                <a href="{{ path(globalOption.subDomain ~ '_webservice_product_details',{'item':product.slug }) }}">{{ product.name }}</a>
                                                <small>{#{{ product.price|number_format }}#}</small>
                                            </h3>
                                            <ul class="social-link">
                                                <li><a target="_blank" href="https://www.facebook.com/share.php?u={{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}&picture={{ app.request.getSchemeAndHttpHost() }}/{{ product.webPath }}&title={{ product.webName }}&description={{ product.content }}"  class="fa fa-facebook"></a></li>
                                                <li><a target="_blank" href="https://plus.google.com/share?url={{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}"  class="fa fa-google-plus"></a></li>
                                                <li><a target="_blank" href=" http://twitter.com/intent/tweet?status={{ product.webName }}+{{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}"  class="fa fa-twitter"></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="caption">
                                        {% if globalOption.ecommerceConfig.showBrand == 1 and product.brand is not empty %}
                                            <p class="group inner brand text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'id':product.brand.id }) }}"><span>{% if product.brand is not empty %}{{ product.brand.name }}{% endif %}</span></a> </p>
                                        {% endif %}
                                        <p class="group inner product-name text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_details',{'item':product.slug }) }}"><strong>{% if product.masterItem is not empty and  globalOption.ecommerceConfig.showMasterName == 1 %}{{ product.masterItem.name }}&nbsp;-&nbsp;{% endif %}{{ product.name }}</strong></a> </p>
                                        <div class="row">
                                            <div class="row-fluid">
                                                <div class="col-xs-8 col-md-8 text-right"><strong class="currency">{{ globalOption.ecommerceConfig.currency }}</strong>&nbsp;{% if product.discount is not empty  %}<strike>{% endif %}{{ product.salesPrice|number_format() }}{% if product.discount is not empty  %}</strike>{% endif %}{% if product.discount is not empty  %} <strong>{{ product.discountPrice|number_format() }}</strong>{% endif %}</div>
                                                <div class="col-xs-4 col-md-4 text-left"><strong>{{ product.quantity }}&nbsp;{% if  product.masterItem.productUnit is defined and product.masterItem.productUnit is not empty %}{{ product.masterItem.productUnit.name }}{% endif %}</strong></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
    {% endif %}

    {% if widget.tag is defined and widget.tag is not empty %}
            <div class="wow fadeInDown feature-carousel" data-wow-duration="2s" data-match-height="carousel-height">
                <div class="page-title-bar">
                    <div class="col-md-12" >
                        <div class="page-title">{{ widget.tag.name }}</div>
                    </div>
                </div>
                <div class="row">
                    <div id="tag-slider-{{ loop.index }}" >
                        {% for product in  widget.tag.purchaseVendorItems |slice(0,12)  %}
                            <div class="col-md-12">
                                <div class="thumbnail" data-match-height="item-promotion">
                                    <div class="product-preview group list-group-image product-equal-height" >
                                        <img class="img-responsive" src="{{ image(product.webPath).resize(400,400, 'white') }}" alt="">
                                        <div class="team-content">
                                            <h3 class="team-prof">
                                                <a href="{{ path(globalOption.subDomain ~ '_webservice_product_details',{'item':product.slug }) }}">{{ product.name }}</a>
                                                <small>{#{{ product.price|number_format }}#}</small>
                                            </h3>
                                            <ul class="social-link">
                                                <li><a target="_blank" href="https://www.facebook.com/share.php?u={{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}&picture={{ app.request.getSchemeAndHttpHost() }}/{{ product.webPath }}&title={{ product.webName }}&description={{ product.content }}"  class="fa fa-facebook"></a></li>
                                                <li><a target="_blank" href="https://plus.google.com/share?url={{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}"  class="fa fa-google-plus"></a></li>
                                                <li><a target="_blank" href=" http://twitter.com/intent/tweet?status={{ product.webName }}+{{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}"  class="fa fa-twitter"></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="caption">
                                        {% if globalOption.ecommerceConfig.showBrand == 1 and product.brand is not empty %}
                                            <p class="group inner brand text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'id':product.brand.id }) }}"><span>{% if product.brand is not empty %}{{ product.brand.name }}{% endif %}</span></a> </p>
                                        {% endif %}
                                        <p class="group inner product-name text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_details',{'item':product.slug }) }}"><strong>{% if product.masterItem is not empty and  globalOption.ecommerceConfig.showMasterName == 1 %}{{ product.masterItem.name }}&nbsp;-&nbsp;{% endif %}{{ product.name }}</strong></a> </p>
                                        <div class="row">
                                            <div class="row-fluid">
                                                <div class="col-xs-8 col-md-8 text-right"><strong class="currency">{{ globalOption.ecommerceConfig.currency }}</strong>&nbsp;{% if product.discount is not empty  %}<strike>{% endif %}{{ product.salesPrice|number_format() }}{% if product.discount is not empty  %}</strike>{% endif %}{% if product.discount is not empty  %} <strong>{{ product.discountPrice|number_format() }}</strong>{% endif %}</div>
                                                <div class="col-xs-4 col-md-4 text-left"><strong>{{ product.quantity }}&nbsp;{% if  product.masterItem.productUnit is defined and product.masterItem.productUnit is not empty %}{{ product.masterItem.productUnit.name }}{% endif %}</strong></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
    {% endif %}

    {% if widget.discount is defined and widget.discount is not empty %}
            <div class="wow fadeInDown feature-carousel" data-wow-duration="4s" data-match-height="carousel-height" >
                <div class="page-title-bar">
                    <div class="col-md-12" >
                        <div class="page-title">{{ widget.discount.name }} % Discount Offer</div>
                    </div>
                </div>
                <div class="row">
                    <div id="discount-slider-{{ loop.index }}" class="">
                        {% for product in  widget.discount.purchaseVendorItems |slice(0,12)  %}
                            <div class="col-md-12">
                                <div class="thumbnail" data-match-height="item-promotion">
                                    <div class="product-preview group list-group-image product-equal-height" >
                                        <img class="img-responsive" src="{{ image(product.webPath).resize(400,400, 'white') }}" alt="">
                                        <div class="team-content">
                                            <h3 class="team-prof">
                                                <a href="{{ path(globalOption.subDomain ~ '_webservice_product_details',{'item':product.slug }) }}">{{ product.name }}</a>
                                                <small>{#{{ product.price|number_format }}#}</small>
                                            </h3>
                                            <ul class="social-link">
                                                <li><a target="_blank" href="https://www.facebook.com/share.php?u={{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}&picture={{ app.request.getSchemeAndHttpHost() }}/{{ product.webPath }}&title={{ product.webName }}&description={{ product.content }}"  class="fa fa-facebook"></a></li>
                                                <li><a target="_blank" href="https://plus.google.com/share?url={{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}"  class="fa fa-google-plus"></a></li>
                                                <li><a target="_blank" href=" http://twitter.com/intent/tweet?status={{ product.webName }}+{{ app.request.getSchemeAndHttpHost() }}/product/{{ product.slug }}"  class="fa fa-twitter"></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="caption">
                                        {% if globalOption.ecommerceConfig.showBrand == 1 and product.brand is not empty %}
                                            <p class="group inner brand text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'id':product.brand.id }) }}"><span>{% if product.brand is not empty %}{{ product.brand.name }}{% endif %}</span></a> </p>
                                        {% endif %}
                                        <p class="group inner product-name text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_details',{'item':product.slug }) }}"><strong>{% if product.masterItem is not empty and  globalOption.ecommerceConfig.showMasterName == 1 %}{{ product.masterItem.name }}&nbsp;-&nbsp;{% endif %}{{ product.name }}</strong></a> </p>
                                        <div class="row">
                                            <div class="row-fluid">
                                                <div class="col-xs-8 col-md-8 text-right"><strong class="currency">{{ globalOption.ecommerceConfig.currency }}</strong>&nbsp;{% if product.discount is not empty  %}<strike>{% endif %}{{ product.salesPrice|number_format() }}{% if product.discount is not empty  %}</strike>{% endif %}{% if product.discount is not empty  %} <strong>{{ product.discountPrice|number_format() }}</strong>{% endif %}</div>
                                                <div class="col-xs-4 col-md-4 text-left"><strong>{{ product.quantity }}&nbsp;{% if  product.masterItem.productUnit is defined and product.masterItem.productUnit is not empty %}{{ product.masterItem.productUnit.name }}{% endif %}</strong></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
    {% endif %}

    {% if widget.featureCategory is defined and widget.featureCategory is not empty %}
            <div class="wow fadeInDown feature-carousel"   data-wow-delay="2s" data-match-height="carousel-height" >
                <div class="page-title-bar">
                    <div class="col-md-12" >
                        <div class="page-title">Feature Category</div>
                    </div>
                </div>
                <div class="row">
                    <div id="feature-category-{{ loop.index }}" class="">
                        {% for category in  widget.globalOption.featureCategories  %}
                            <div class="col-md-12">
                                <div class="thumbnail" data-match-height="feature-category">
                                    <div class="product-preview group" >
                                        <img class="img-responsive" src="{{ image(category.webPath).resize(250,200, 'white') }}" alt="">
                                    </div>
                                </div>
                                <div class="caption">
                                    <p class="group inner product-name text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_category',{'subdomain': globalOption.subDomain,'id':category.id }) }}"><strong>{{ category.category.name }}</strong></a> </p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
    {% endif %}

    {% if widget.featureBrand is defined and widget.featureBrand is not empty %}
            <div class="wow fadeInDown feature-carousel" data-wow-delay="2s" data-match-height="carousel-height" >
                <div class="page-title-bar">
                    <div class="col-md-12" >
                        <div class="page-title">Feature Brands</div>
                    </div>
                </div>
                <div class="row">
                    <div id="brand-slider-{{ loop.index }}">
                        {% for brand in  widget.globalOption.featureBrands  %}
                            <div class="col-md-12">
                                <div class="thumbnail" data-match-height="feature-brand">
                                    <div class="product-preview" >
                                        <img class="img-responsive" src="{{ image(brand.webPath).resize(150,120) }}" alt="">
                                    </div>
                                </div>
                                <div class="caption">
                                    <p class="group inner product-name text-center" ><a href="{{ path(globalOption.subDomain ~ '_webservice_product_brand',{'subdomain': globalOption.subDomain,'id':brand.id }) }}"><strong>{{ brand.brand.name }}</strong></a> </p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
    {% endif %}

    {% endfor %}
{% endif %}
