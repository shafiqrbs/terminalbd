{% if features is defined and features is not empty  %}
    <style>
        /* list */
        .rectangle-list ol
        {
            counter-reset:li; /* Initiate a counter */
            margin-left:0; /* Remove the default left margin */
            padding-left:0; /* Remove the default left padding */
        }

        /* item  */
        .rectangle-list ol > li
        {
            position: relative;
            list-style:none; /* Disable the normal item numbering */
        }

        /* item hover */
        .rectangle-list p
        {
            display: block;
            padding: .4em .4em .4em .8em;
            *padding: .4em;
            background: #ddd;
            color: #444;
            text-decoration: none;
            -webkit-transition: all .3s ease-out;
            -moz-transition: all .3s ease-out;
            -ms-transition: all .3s ease-out;
            -o-transition: all .3s ease-out;
            transition: all .3s ease-out;
        }

        /* item hover */
        .rectangle-list p:hover
        {
            background: #fa8072;
        }

        /* number  */
        .rectangle-list p:before
        {
            content: counter(li);
            counter-increment: li;

            position: absolute;
            left: -2.5em;
            top: 50%;
            margin-top: -1em;

            background: #fa8072;
            height: 2em;
            width: 2em;
            line-height: 2em;
            text-align: center;
            font-weight: bold;
        }

        /* number hover */
        .rectangle-list p:after
        {
            position: absolute;
            left: -1em;
            top: 50%;
            margin-top: -.5em;

            content: '';
            border: .5em solid transparent;

            -webkit-transition: all .3s ease-out;
            -moz-transition: all .3s ease-out;
            -ms-transition: all .3s ease-out;
            -o-transition: all .3s ease-out;
            transition: all .3s ease-out;
        }

        .rectangle-list p:hover:after
        {
            left: -.5em;
            border-left-color: #fa8072;
        }

        /* Makes images fully responsive */

        .img-responsive,
        .thumbnail > img,
        .thumbnail a > img,
        .carousel-inner > .item > img,
        .carousel-inner > .item > a > img {
            display: block;
            width: 100%;
            height: auto;
        }

        /* ------------------- Carousel Styling ------------------- */

        .carousel-inner {
            border-radius: 15px;
        }

        .carousel-caption {
            background-color: rgba(0,0,0,.5);
            position: absolute;
            left: 25%;
            right: 0;
            bottom: 15%;
            z-index: 10;
            padding: 0 0 10px 25px;
            color: #fff;
            text-align: center;
            width:50%;
        }
        .carousel-caption h4{
            font-weight:bolder;
        }
        .carousel-caption span{
            font-size: 12px;
            display: inline-block;
            padding-bottom: 10px;
        }

        .carousel-indicators {
            position: absolute;
            bottom: 0;
            right: 0;
            left: 0;
            width: 100%;
            z-index: 15;
            margin: 0;
            padding: 0 25px 25px 0;
            text-align: right;
        }

        .carousel-control.left,
        .carousel-control.right {
            background-image: none;
        }
    </style>
    {% for widget in features %}
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'slider' %}
    <div class="container">
        <div class="row">
            <div class="owl-carousel col-xs-12 col-md-12 " id="main-slider">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        {% for slide in widget.featureWidgetItems %}
                            <li data-target="#carousel-example-generic" data-slide-to="{{ loop.index-1 }}" class="{% if loop.index == 0 %} active {% endif %}"></li>
                        {% endfor %}
                    </ol>
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">
                        {% for slide in widget.featureWidgetItems %}
                            <div class="item {% if loop.index-1 == 0 %} active {% endif %}">
                                <img style="height:456px; width:100%" src="{% if slide.feature.webPath is not empty  %} {{ slide.feature.webPath }}{% endif %}" alt="...">
                                <div class="carousel-caption">
                                    <h4>{{ slide.feature.name }}</h4>
                                    <span>{{ slide.feature.content|raw }}</span>
                                    <br/>
                                    {% if slide.feature.targetTo == 'Promotion' %}
                                    <a class="btn btn-mini" href="{{ path('webservice_product_promotion',{'id':slide.feature.promotion.id}) }}">Shop Now</a>
                                    {% elseif slide.feature.targetTo == 'Tag' %}
                                    <a class="btn btn-mini" href="{{ path('webservice_product_tag',{'id':slide.feature.tag.id}) }}">Shop Now</a>
                                    {% elseif slide.feature.targetTo == 'Discount' %}
                                    <a class="btn btn-mini" href="{{ path('webservice_product_discount',{'id':slide.feature.discount.id}) }}">Shop Now</a>
                                    {% elseif slide.feature.targetTo == 'Brand' %}
                                    <a class="btn btn-mini" href="{{ path('webservice_product_brand',{'id':slide.feature.barnd.id}) }}">Shop Now</a>
                                    {% endif %}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    <br/>
    {% if widget.jsFeature is not empty and widget.jsFeature.slug == 'feature' %}
        <div class="container">
            <div class="row">
            {% for slide in widget.featureWidgetItems %}
                {% if(slide.feature.webPath) %}
                    {% if slide.feature.targetTo == 'Promotion' %}
                        {% set path = path('webservice_product_promotion',{'id':slide.feature.promotion.id}) %}
                        {% elseif slide.feature.targetTo == 'Tag' %}
                        {% set path = path('webservice_product_tag',{'id':slide.feature.tag.id}) %}
                        {% elseif slide.feature.targetTo == 'Discount' %}
                        {% set path = path('webservice_product_tag',{'id':slide.feature.discount.id}) %}
                        {% elseif slide.feature.targetTo == 'Brand' %}
                        {% set path = path('webservice_product_tag',{'id':slide.feature.brand.id}) %}
                    {% endif %}
                    <div  style="overflow: hidden;height: {{ slide.divHeight }}px; width: {{ slide.divWidth }}%; margin-bottom: 15px;"  class="col-xs-12 col-md-12 ">
                        <a href="{{ path }}"> <img class="img-responsive" alt="" src="{{ slide.feature.webPath }}"></a>
                    </div>
                {% endif %}
            {% endfor %}
            </div>
        </div>
    {% endif %}
    {% if widget.featureFor == 'Carousel' %}
        {#{% if widget.category is defined and widget.category is not empty %}
            <div class="container">
                <div class="header-double-line-right">
                    <h3>{{ widget.category.name }}</h3>
                </div>
                     <div class="text-right owl-carousel-next-prev">
                    <div class="customNavigation" >
                        <a class="btn prev glyphicon glyphicon-chevron-left"></a>
                        <a class="btn next glyphicon glyphicon-chevron-right"></a>
                    </div>
                </div>
                <div id="product" class="row">
                    <div id="category-slider" class="owl-carousel">
                        {% for product in  widget.category.masterProducts.purchaseVendorItem |slice(0,12)  %}
                            <div class="col-md-12">
                                <div class="thumbnail js-equal-height">
                                    <div class="product-preview group list-group-image product-equal-height" >
                                        <img class="img-responsive" src="{{ image(product.webPath).resize(400,400) }}" alt="">
                                        <div class="team-content">
                                            <h3 class="team-prof">
                                                <a href="#">{{ product.name }}</a>
                                                <small>&#123;&#35;{{ product.price|number_format }}&#35;&#125;</small>
                                            </h3>
                                            <ul class="social-link">
                                                <li><a href="#" class="fa fa-facebook"></a></li>
                                                <li><a href="#" class="fa fa-google"></a></li>
                                                <li><a href="#" class="fa fa-twitter"></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="caption">
                                        <p class="group inner list-group-item-heading text-center" ><a href="{{ path('webservice_product_details',{'subdomain': globalOption.subDomain,'item':product.slug }) }}"><strong>{% if product.masterItem is not empty %}{{ product.masterItem.name }}&nbsp;-&nbsp;{% endif %}{{ product.name }}</strong></a> </p>
                                        <div class="row">
                                            <div class="row-fluid">
                                                <div class="col-xs-6 col-md-6 text-right"><strong class="currency">{{ globalOption.ecommerceConfig.currency }}</strong>&nbsp;{% if product.discount is not empty  %}<strike>{% endif %}{{ product.salesPrice|number_format() }}{% if product.discount is not empty  %}</strike>{% endif %}{% if product.discount is not empty  %}{{ product.discountPrice|number_format() }}{% endif %}</div>
                                                <div class="col-xs-6 col-md-6 text-left"><strong>{{ product.quantity }}&nbsp;{% if  product.masterItem.productUnit is defined and product.masterItem.productUnit is not empty %}{{ product.masterItem.productUnit.name }}{% endif %}</strong></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>

                </div>
            </div>
        {% endif %}#}
        {% if widget.promotion is defined and widget.promotion is not empty %}
            <div class="container">
                <div class="header-double-line-right">
                    <h3>{{ widget.promotion.name }}</h3>
                </div>
                <div class="text-right owl-carousel-next-prev">
                    <div class="customNavigation" >
                        <a class="btn prevProotion glyphicon glyphicon-chevron-left"></a>
                        <a class="btn nextProotion glyphicon glyphicon-chevron-right"></a>
                    </div>
                </div>
                <div id="product" class="row">
                    <div id="promotion-slider" class="owl-carousel">
                        {% for product in  widget.promotion.purchaseVendorItems |slice(0,12)  %}
                            <div class="col-md-12">
                                <div class="thumbnail js-equal-height">
                                    <div class="product-preview group list-group-image product-equal-height" >
                                        <img class="img-responsive" src="{{ image(product.masterItem.webPath).resize(400,400) }}" alt="">
                                        <div class="team-content">
                                            <ul class="view-link">
                                                <li><a href="#" class="fa fa-shopping-cart"></a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="caption">
                                        <div class="row">
                                            <div class="row-fluid">
                                                <div class="col-xs-12 col-md-12 text-center"><a href="{{ path('webservice_product_details',{'subdomain': globalOption.subDomain,'item':product.slug }) }}"><strong>{% if product.masterItem is not empty %}{{ product.masterItem.name }}&nbsp;-&nbsp;{% endif %}{{ product.name }}</strong></a></div>
                                            </div>
                                            <div class="row-fluid">
                                                <div class="col-xs-12 col-md-12 text-center"><strong class="currency">{{ globalOption.ecommerceConfig.currency }}&nbsp;{% if product.discount is not empty  %}<strike>{% endif %}{{ product.salesPrice|number_format() }}{% if product.discount is not empty  %}</strike>{% endif %}{% if product.discount is not empty  %}&nbsp;{{ product.discountPrice|number_format() }}{% endif %}</strong></div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        {% endfor %}
                    </div>

                </div>
            </div>
        {% endif %}
    {% endif %}
    {% endfor %}
{% endif %}
