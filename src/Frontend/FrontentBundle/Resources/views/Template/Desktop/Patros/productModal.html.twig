<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title">{{ product.name }}</h4>
</div>
<div class="modal-body">
    <div class="row">
        <div class="row-fluid">
            <div class="col-xs-4 col-md-4">
                <img class="col-md-12" src="{{ image(product.webPath()).resize() }}" alt="img">
            </div>
            <div class="col-xs-3 col-md-3" >
                <table>
                    <tr><td>Price</td><td class="left-text"><strong>৳&nbsp;{{ subItem.salesPrice|number_format }}</strong></td></tr>
                    <tr><td>Stock in</td><td class="left-text">&nbsp;:&nbsp;<strong>{{ subItem.quantity  }}</strong></td></tr>
                    {% if product.category is not empty %}<tr><td>Category</td><td class="left-text">&nbsp;:&nbsp;{{ product.category.name }}</td></tr>{% endif %}
                    {% if product.unit is not empty %}<tr><td>Unit</td><td class="left-text">&nbsp;:&nbsp;{{ product.unit.name }}</td></tr>{% endif %}
                    {% if product.gender is not empty %}<tr><td>Gender</td><td class="left-text">&nbsp;:&nbsp;{{ product.gender }}</td></tr>{% endif %}
                    {% if product.ageGroup is not empty %}<tr><td>Age Group</td><td class="left-text">&nbsp;:&nbsp;{{ product.ageGroup }}</td></tr>{% endif %}
                    {% if product.brand is not empty %}<tr><td>Brand</td><td class="left-text">&nbsp;:&nbsp;{{ product.brand.name }}</td></tr>{% endif %}
                    {% if product.country is not empty %}<tr><td>Made in</td><td class="left-text">&nbsp;:&nbsp;{{ product.country.name }}</td></tr>{% endif %}
                </table>
            </div>
            <div class="col-xs-5 col-md-5" style="height: 200px; overflow-y: scroll">
                <table>
                    <tr><td class="left-text" colspan="2">{{ product.content|raw }}</td></tr>
                    <tr><td colspan="2" ><strong>Specification</strong></td></tr>
                    {% if  product.itemMetaAttributes is defined and  product.itemMetaAttributes is not empty %}
                        {%  for attribute in product.itemMetaAttributes %}
                            <tr><td>{{ attribute.itemAttribute.name }}</td><td class="left-text">&nbsp;:&nbsp;{{ attribute.value }}</td></tr>
                        {% endfor %}
                    {% endif %}
                    {% if  product.itemKeyValues is defined and product.itemKeyValues is not empty %}
                        {% for meta in product.itemKeyValues %}
                            <tr><td>{{ meta.metaKey }}</td><td class="left-text">&nbsp;:&nbsp;{{ meta.metaValue  }}</td></tr>
                        {% endfor %}
                    {% endif %}
                </table>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <form class="addCart">
    <div class="col-xs-9 col-md-9" style="margin-top: 3px" >
           {% if product.goodsItems is not empty and product.goodsItems is defined %}
            <div class="col-xs-3 col-md-3" >
                <div class="form-group">
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon" id="sizing-addon3"><span class="glyphicon glyphicon-list-alt"></span></span>
                        <select class="form-control modalChange" data-url="{{ path('webservice_product_modal', {'subdomain':globalOption.subDomain, 'item' : product.id }) }}" name="size" id="size" >
                            <option value="">Choose</option>
                            {% for goodsItem in  product.goodsItems %}
                                <option {% if subItem.id == goodsItem.id %} selected="selected" {% endif %} value="{{ goodsItem.id }}" >{{ goodsItem.size.name }}</option>
                            {% endfor %}
                        </select>

                    </div>
                </div>
            </div>
            <div class="col-xs-3 col-md-3">
                <div class="form-group">
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon" id="sizing-addon3"><span class="glyphicon glyphicon-text-background"></span></span>
                        <select class="form-control" name="color" id="color" disabled="disabled" >
                            <option value="">Choose</option>
                            {% for goodsItem in  product.goodsItems %}
                                <option {% if subItem.id == goodsItem.id %} selected="selected" {% endif %} value="{{ goodsItem.id }}" >{{ goodsItem.color.name }}</option>
                            {% endfor %}
                        </select>

                    </div>
                </div>
            </div>
            <div class="col-xs-3 col-md-3">
                <div class="form-group">
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon" id="sizing-addon3"><span class="glyphicon glyphicon-sort-by-order"></span></span>
                        <input type="text" name="quantity" id="quantity" min="1" max="{{ subItem.quantity }}" class="form-control" aria-label="Text input with multiple buttons">
                        <div class="input-group-btn"> <button type="button" class="btn btn-default">{{ product.unit.name }}</button> </div> </div>
                </div>
            </div>
            <div class="col-xs-3 col-md-2">
                <div class="form-group">
                    <div class="input-group input-group-sm">
                        <span class="input-group-addon" id="sizing-addon3">৳</span>
                        <input class="form-control" name="" id="" disabled="disabled" value="{{ subItem.salesPrice|number_format }}" aria-label="Text input">

                    </div>
                </div>
            </div>
        {% endif %}
    </div>
    <div class="col-xs-3 col-md-3">
        <button type="submit" class="btn btn-default" data-dismiss="modal" data-url="{{ path('webservice_product_cart', {'subdomain':globalOption.subDomain, 'product' : product.id,'subitem' : subItem.id }) }}" >Add to cart</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
    </div>
    </form>
</div>