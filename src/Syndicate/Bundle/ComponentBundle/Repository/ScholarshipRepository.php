<?php

namespace Syndicate\Bundle\ComponentBundle\Repository;
use Doctrine\ORM\EntityRepository;
use Syndicate\Bundle\ComponentBundle\Entity\Scholarship;

/**
 * ScholarshipRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ScholarshipRepository extends EntityRepository
{

    public function setScholarSyndicate($entity,$syndicates){

        $em = $this->_em;
        if(!empty($entity)){

            $synarr = array();
            foreach($syndicates as $sid ){
                $synarr[] = $em->getRepository('SettingToolBundle:Syndicate')->findOneBy(array('id'=>$sid));
            }
            if (!empty($synarr)) {

                $entity->setSyndicates($synarr);
                $em->persist($entity);
                $em->flush();
            }
        }

    }

}
